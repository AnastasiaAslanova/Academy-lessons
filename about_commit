Как объединить несколько комитов:
git rebase -i HEAD ~3(цифра условная, клеим последние 3 коммита)
В выпавшем диалоговом окне нужно заменить pick на squash для двух самых свежих коммитов
Сохраняем эти измеенения  и вводим сообщение для вновь образовавшегося коммита.
Чтобы вернуть их в обратное состояние:
Если я правильно поняла rebase сораняет нашу начальную точку в ORIG_HEAD --hard ORIG_HEAD должен вернуть нас в прежнее состояние

